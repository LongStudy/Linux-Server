# 从0开始运维Linux服务器[**实践0**] #

自行查询相关资料，在电脑上安装Ubuntu16/18，安装到虚拟机或者直接安装到硬盘*（注意数据安全）。

# ①计算机网络入门 #

一到三节内容可以阅读`Linux 高性能服务器编程`的第一到四章，亦可直接参阅计网书籍相关内容

一、TCP/IP协议族

TCP/IP协议族体系结构以及主要协议（数据链路层、网络层、传输层、应用层）；封装、分用、测试网络；ARP协议工作原理；DNS工作原理；socket和TCP/IP协议族的关系

二、IP协议详解

IP服务的特点；IPv4头部结构；IP分片、IP路由、IP转发；重定向；IPv6头部结构

三、TCP协议详解

TCP服务的特点；TCP头部结构；TCP连接的建立和关闭；TCP状态转移；复位报文段；TCP交互数据流；TCP成块数据流；带外数据；TCP超时重传；拥塞控制

一到三节的其他可供学习的关键词：MTU（最大传输单位）、集线器、交换器与相关机制、IP 数据包的封装、IP 地址的组成与分级、IP 的种类与取得方式、Netmask、子网与 CIDR（Classless Interdomain Routing）、路由概念、IP 与 MAC（Media Access Control）：网络接口层的 ARP 与 RARP 协议、ICMP 协议、面向连接的可靠的 TCP 协议、TCP 的三次握手、TCP与UDP等

四、局域网架构了解

局域网的连接、局域网的布线规划、网络设备选购；网络联机参数与通信协议、个人计算机网络配置、局域网段、子网掩码等

# ②Linux网络入门 #

一、Linux网络基本配置[**实践1**]

自主搜索学习Linux网络配置文件；手动固定 IP 参数、自动取得 IP 参数（DHCP）；使用nmap扫描网络；TCP Wrappers；

**实践1内容**：修改Linux网络配置使得其能链接431的局域网，同时扫描当前网段内的所有主机并保存，找出当前网段中的web服务器、ftp服务器

二、Linux 网络排错

无法连接网络的原因分析；硬件问题：网线、网络设备、网络布线等；软件问题：IP 参数设置、路由设置、服务器与防火墙设置等；内部网络使用某些服务（如 FTP、POP3）所遇到的连接延迟问题；域名无法解析的问题；默认网关的问题；以及问题的处理

步骤1：网卡工作确认；
步骤2：局域网内各项连接设备检测；
步骤3：取得正确的 IP 参数；
步骤4：确认路由表的规则；
步骤5：主机名与 IP 查询的 DNS 错误；
步骤6：Linux 的 NAT 服务器或 IP 路由器出问题；
步骤7：Internet 的问题；
步骤8：服务器的问题；

三、路由的概念与路由器设置[**实践2**]

路由表产生的类型；一个网卡绑多个 IP：IP Alias 的测试用途；重复路由的问题；路由器配置（什么是路由器与 IP 路由器，何时需要路由器）；静态路由；动态路由器架设；特殊状况——路由器两边界面是同一个IP网段：ARP Proxy

四、配置DHCP服务器和DNS服务器[**实践2**]

配置DHCP客户端；查看DHCP地址租约信息；DHCP中继代理；DNS服务器配置；DNS服务器排错

**实践2内容**：给定两个路由器，修改其设置接入431交换机，同时能够作为网关通过有线与无线网络向终端分发DHCP地址

五、Linux 中常用的网络命令
设置网络参数的命令；手动/自动配置IP 参数与启动/关闭网络接口：ifconfig、ifup、ifdown；修改路由：route；网络参数综合命令：ip；无线网络：iwlist， iwconfig；DHCP客户端命令：dhclient；网络排错与查看命令；两台主机的两点沟通：ping；两主机间各节点分析：traceroute；查看本机的网络连接与后门：netstat；检测主机名与 IP 的对应：host、nslookup

六、远程连接命令与远程桌面[**实践3**]

使用telnet、SSH远程登录；使用VNC、XRDP协议的远程桌面；使用FTP协议远程访问文件；

**实践3内容**：使用ssh服务管理远程主机；配置TFTP/vsftpd服务器实现FTP文件传输；配置VNC实现远程桌面访问；配置XRDP并使用Win10自带远程桌面传输*（选做）


# ③服务器硬件搭配 #

x86、arm架构的不同与选择[**实践4**]

自主搜索学习低端（瘦主机）与高端x86 cpu的选择（N系列，Z系列，J系列，志强等）；PC硬件搭配（内存、硬盘、显卡、网卡等）；arm架构与主流SoC型号、主流arm开发版等；x86与arm服务器捡垃圾装机模拟实战

**实践4内容**：表格汇总各代arm架构（V7、V8指令集）以及简单特点；表格汇总常见的i386/amd64架构服务器/NAS/工控机处理器（例如intel凌动、atom、赛扬的N系列，Z系列，J系列，标压使用的志强等）；给予1000元预算，虚拟组装一台网络文件服务器（NAS），要求从网卡带宽、硬盘容量、硬盘速度、CPU速度等各种角度考虑；给予10000元预算，虚拟组装一台深度学习GPU服务器，要求从显卡算力、带宽、CPU算力、电源、CPU速度等各种角度考虑*（选做）

# ④Linux的用户、文件目录与磁盘格式 #

一、虚拟机与实体机、启动方式与磁盘分区、存储结构

虚拟机与硬件虚拟化；磁盘分区格式与数据；单/多系统的安装（引导，驱动，BootLoader:Grub2）；Linux磁盘管理；Linux的启动流程分析；内核与内核模块；物理设备的命名规则；挂载与添加硬件设备；添加交换分区；磁盘容量配额；软硬方式链接；RAID（独立冗余磁盘阵列）与LVM（逻辑卷管理器）磁盘阵列技术

二、Linux的文件与目录

Linux文件权限概念、Linux目录配置、存储结构与磁盘划分（一切从“/”开始）；文件系统与数据资料；文件目录与路径、文件与目录的默认权限与隐藏权限、命令与文件的查找、认识Linux文件系统、磁盘的分区、格式化、检验与挂载、设置启动挂载、内存交换分区（swap）之创建

三、Linux系统用户与用户组管理：
用户身份与文件权限；用户身份与能力；文件权限与归属；文件的特殊权限 ；文件的隐藏属性；文件访问控制列表；su命令与sudo服务

# ⑤Vim&shell #

一、文本编辑工具Vim

超简单的文本编辑器：nano；vim程序编辑器；vi与vim；vim的额外功能；了解正则表达式

二、认识BASH

认识BASH这个Shell；Shell的变量功能；命令别名与历史命令；Bashshell的操作环境；数据流重定向；管道命令（pipe）

三、正则表达式与文件格式化处理
什么是正则表达式；基础正则表达式；扩展正则表达式；文件的格式化与相关处理

四、学习shell脚本

简单的编写Shell脚本；流程控制语句；善用判断式；条件判断式；循环（loop）；shell脚本的跟踪与调试；计划任务服务程序

# ⑥Linux深入 #

以下内容选择性学习

一、Linux服务器程序规范

日志；Linux系统日志；syslog函数；用户信息、UID、EUID、GID和EGID
；进程间关系、进程组、会话、用ps命令查看进程关系；系统资源限制；改变工作目录和根目录；服务器程序后台化

二、Linux账号管理与ACL权限设置

Linux的账号与用户组、账号管理、主机的详细权限规划：ACL的使用、用户身份切换、用户的特殊shell与PAM模块、Linux主机上的用户信息传递、

三、磁盘配额（Quota）与高级文件系统管理

磁盘配额（Quota）的应用与实践、软件磁盘阵列（SoftwareRAID）、逻辑卷管理器（Logical　VolumeManager）

四、计划任务（crontab）

什么是计划任务、仅执行一次的计划任务、循环执行的计划任务、可唤醒停机期间的工作任务

五、进程管理与SELinux

什么是进程（process）、任务管理（jobcontrol）、进程管理、特殊文件与进程、SELinux初探

六、认识与分析日志文件

什么是日志文件、rsyslog.service：记录日志文件的服务、日志文件的轮循（logrotate）、systemd-journald.service简介、分析日志文件

七、服务器优化与监测

服务器调制、调试和测试、调整内核参数；/proc/sys/fs目录下的部分文件；/proc/sys/net目录下的部分文件、gdb调试、压力测试、系统监测工具（tcpdump、lsof等）

八、基础系统设置与备份策略

系统基本设置、服务器硬件数据的收集、备份要点备份的种类、频率与工具的选择、灾难恢复的考虑

九、软件安装，源代码与Tarball

开放源码的软件安装与升级、使用传统程序语言进行编译、用make进行宏编译、Tarball的管理与建议、函数库管理、校验软件正确性
 
十、防火墙与 NAT 服务器

防火墙管理工具、数据包过滤软件：iptables、firewalld、服务的访问控制列表、TCP Wrappers、不同 Linux 内核版本的防火墙软件、iptables 的表格（table）与链（chain）、NAT 服务器的设置、什么是 NAT？SNAT？DNAT？、最简单的 NAT 服务器：IP 分享功能、iptables 的额外内核模块功能、在防火墙后端的网络服务器上做DNAT设置

十一、主机的简易安全防护措施

网络安全与主机基本防护：限制端口、网络升级与SELinux、网络自动升级软件、yum 软件更新、镜像站点使用的原理、yum 的功能：安装软件组、全系统更新、挑选特定的镜像站点：修改 yum 配置文件与清除 yum 缓存、限制连接端口（Port）、端口的查看：netstat、nmap、SELinux 管理原则、SELinux 的工作模式、被攻击后的主机修复工作


# ⑦服务器配置实战 #

一、文件共享

使用Samba或NFS实现文件共享；配置NFS服务器；配置vsftpd/TFTP服务器

二、web服务器搭建[**实践**]

使用Apache服务部署静态网站、虚拟主机功能、监测Apache服务器状态和信息、Apache日志分析

配置Nginx虚拟主机；Nginx反向代理；配置PHP环境

配置MariaDB/MySQL数据库；创建数据库与表单；数据库的备份及恢复

**实践内容**：选购域名与云主机并使用LNMP架构或者使用虚拟空间部署动态网站环境；搭建Discuz!论坛或者其他动态网站等；适当编写、修改html、php、js代码；HTTPS化网站

三、VPN服务器搭建

配置VPN服务器，配置SSR服务器